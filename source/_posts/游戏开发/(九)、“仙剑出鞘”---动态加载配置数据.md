---
title: (九)、“仙剑出鞘”---动态加载配置数据
category: [游戏开发]
tags: 
    -cocos 
    -微信小游戏
    -仙剑
date: 2020-11-13 16:10:06
---


### 主要代码

```ts

    public setCurLevel(cur_level){
        this.cur_level = cur_level
        console.log('setCurLevel'+this.cur_level)
    }

    public getCurLevel(){
        return this.cur_level;
    }

    public getAllMissionData(){
        let alldata = [
            {
                mission:1,
                mission_name:'新手大陆',
                is_open:1,
                is_pass:1,
                data:[
                    {
                        level:1,
                        is_open:1,
                        is_pass:1,
                        step:1,
                        x:110,
                        y:22,
                    },
                    {
                        level:2,
                        is_open:1,
                        is_pass:1,
                        step:2,
                        x:220,
                        y:33,
                    },
                ]
            },
            {
                mission:2,
                mission_name:'老手大陆',
                is_open:1,
                is_pass:1,
                data:[
                    {
                        level:11,
                        is_open:1,
                        is_pass:1,
                        step:1,
                    },
                    {
                        level:12,
                        is_open:1,
                        is_pass:1,
                        step:2,
                    },
                ]
            }
        ]
        return alldata
    }

    public getCurMissionData(mission){
        let alldata = this.getAllMissionData()
        let data : mission
        alldata.forEach( (item) => {
            if(item.mission == mission){
                data =  item
            }
        } )
        console.log('getCurMissionData')
        console.log(data)
        return data
    }



    public getMissionLevelData(){
        let alldata = [
            {
                level:1,
                data:[
                    {
                        x:11,
                        y:22,
                        type:'box',
                        hp:1
                    },
                    {
                        x:22,
                        y:33,
                        type:'box',
                        hp:1
                    }
                ]
            }
        ]
        return alldata
    }

    public getCurMissionLevelData(level){
        let alldata = this.getMissionLevelData()
        let data = {}
        alldata.forEach( (item) => {
            if(item.level == level){
                data =  item
            }
        } )
        console.log('getCurMissionLevelData')
        console.log(data)
    }
```


### 主要涉及的cocos函数
暂无